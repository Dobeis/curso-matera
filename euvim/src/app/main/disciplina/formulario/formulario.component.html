<form [formGroup]="form" fxLayout="column">
  <mat-form-field fxFlex="100">
    <input autocomplete="nome" autofocus matInput formControlName="nome" placeholder="Nome">
    <mat-error *ngIf="form.controls['nome'].hasError('required')">
      Esse campo é obrigatório!
    </mat-error>
  </mat-form-field>
  <mat-form-field fxFlex="100">
    <input autocomplete="email" matInput formControlName="email" placeholder="E-mail">
    <mat-error *ngIf="form.controls['email'].hasError('required')">
      Informe um e-mail válido!
    </mat-error>
  </mat-form-field>
  <div fxFlex="100" fxLayout="row">
    <mat-form-field fxFlex="47">
      <input autocomplete="login" matInput formControlName="login" placeholder="Login">
      <mat-error *ngIf="form.controls['login'].hasError('required')">
        Esse campo é obrigatório!
      </mat-error>
    </mat-form-field>
    <span fxFlex="6"></span>
    <mat-form-field fxFlex="47">
      <mat-select formControlName="perfil" name="item" placeholder="Perfil">
        <mat-option *ngFor="let perfil of perfis" [value]="perfil.id">
          {{ perfil.descricao }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="form.controls['perfil'].hasError('required')">
        Esse campo é obrigatório!
      </mat-error>
    </mat-form-field>
  </div>
  <div fxFlex="100" fxLayout="row">
    <mat-form-field fxFlex="47">
      <input autocomplete="senha" matInput placeholder="Senha" formControlName="senha" type="password">
      <mat-error *ngIf="form.controls['senha'].hasError('required')">
        Esse campo é obrigatório!
      </mat-error>
    </mat-form-field>
    <span fxFlex="6"></span>
    <mat-form-field fxFlex="47">
      <input autocomplete="password" matInput placeholder="Confirmação" type="password" formControlName="confirmacao">
      <mat-error *ngIf="form.controls['confirmacao'].hasError('required')">
        Esse campo é obrigatório!
      </mat-error>
      <mat-error *ngIf="!form.controls['confirmacao'].hasError('required')
        && form.controls['confirmacao'].hasError('passwordEquals')">
        As senhas não são iguais!
      </mat-error>
    </mat-form-field>
  </div>
  <div fxFlex="100" fxLayout="row" fxLayoutAlign="space-between">
    <button
      (click)="salvar()"
      [disabled]="!form.valid"
      mat-raised-button
      color="primary"
      type="button"
    >
      {{ id ? 'Alterar' : 'Adicionar' }}
    </button>
    <button
      type="button"
      mat-raised-button
      color="warn"
      routerLink="/main/usuario/consulta"
    >
      Cancelar
    </button>
  </div>
</form>
